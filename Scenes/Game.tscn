[gd_scene load_steps=23 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Item.tscn" type="PackedScene" id=3]
[ext_resource path="res://Assets/Dungeon_001.png" type="Texture" id=4]
[ext_resource path="res://Scenes/SafeZone.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Ghost.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Skeleton.tscn" type="PackedScene" id=7]

[sub_resource type="NavigationPolygon" id=12]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=13]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=14]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=15]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=16]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=17]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=18]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="NavigationPolygon" id=19]
vertices = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ) ]

[sub_resource type="ConvexPolygonShape2D" id=20]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="TileSet" id=21]
0/name = "Dungeon_001.png 0"
0/texture = ExtResource( 4 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 176, 16, 16, 16 )
0/tile_mode = 1
0/autotile/bitmask_mode = 0
0/autotile/bitmask_flags = [  ]
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 32, 32 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape_one_way = false
0/shape_one_way_margin = 0.0
0/shapes = [  ]
0/z_index = 0
1/name = "Dungeon_001.png 1"
1/texture = ExtResource( 4 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 16, 0, 160, 112 )
1/tile_mode = 1
1/autotile/bitmask_mode = 0
1/autotile/bitmask_flags = [ Vector2( 6, 0 ), 325, Vector2( 6, 1 ), 325, Vector2( 6, 2 ), 325, Vector2( 6, 3 ), 325, Vector2( 6, 4 ), 325, Vector2( 7, 0 ), 325, Vector2( 7, 2 ), 325, Vector2( 7, 3 ), 325, Vector2( 7, 4 ), 325, Vector2( 8, 0 ), 325, Vector2( 8, 1 ), 325, Vector2( 8, 2 ), 325 ]
1/autotile/icon_coordinate = Vector2( 6, 3 )
1/autotile/tile_size = Vector2( 16, 16 )
1/autotile/spacing = 0
1/autotile/occluder_map = [  ]
1/autotile/navpoly_map = [ Vector2( 6, 0 ), SubResource( 12 ), Vector2( 6, 1 ), SubResource( 13 ), Vector2( 6, 2 ), SubResource( 14 ), Vector2( 7, 0 ), SubResource( 15 ), Vector2( 7, 2 ), SubResource( 16 ), Vector2( 8, 0 ), SubResource( 17 ), Vector2( 8, 1 ), SubResource( 18 ), Vector2( 8, 2 ), SubResource( 19 ) ]
1/autotile/priority_map = [  ]
1/autotile/z_index_map = [  ]
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 20 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 5, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 20 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( -65.0264, 27.1632, 65.0264, -27.1632, 416, 72, -1.78381, -34.487, 1.78381, 34.487, 508, 197, 8.32445, -15.4597, -8.32445, 15.4597, 483, 339, 17.2435, 5.35143, -17.2435, -5.35143, 411, 353, 0.594603, 12.4867, -0.594603, -12.4867, 379, 228, -3.56359, 24.9452, 3.56359, -24.9452, 391, 113, 0, 0, 0, 0, 416, 72 )
}

[sub_resource type="Curve2D" id=8]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 579, 86, -14.2866, 22.6205, 14.2866, -22.6205, 705, 78, 1.19055, 8.73071, -1.19055, -8.73071, 718, -24, 33.3354, 3.1748, -33.3354, -3.1748, 687, -60, 0, 0, 0, 0, 577, -61, 0, 0, 0, 0, 428, -61, 9.52441, -32.5417, -9.52441, 32.5417, 356, -24, -17.8583, -15.4772, 17.8583, 15.4772, 376, 67, 0, 0, 0, 0, 468, 85, -2.94314, -1.68179, 2.94314, 1.68179, 564, 86, 0, 0, 0, 0, 579, 86 )
}

[sub_resource type="Curve2D" id=9]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 928, -69, 0, 0, 0, 0, 951, -37, 0, 0, 0, 0, 948, 6, 0, 0, 0, 0, 896, 5, 0, 0, 0, 0, 846, 14, 0.890899, -1.33635, -0.890899, 1.33635, 834, 49, -3.11815, -3.11815, 3.11815, 3.11815, 853, 77, -2.6727, -0.890899, 2.6727, 0.890899, 909, 82, -1.7818, -7.57264, 1.7818, 7.57264, 952, 102, 3.56359, -3.11815, -3.56359, 3.11815, 944, 125, 0, 0, 0, 0, 892, 130, 0, 0, 0, 0, 840, 112, 0, 0, 0, 0, 801, 68, 1.33635, 1.33635, -1.33635, -1.33635, 797, 16, -0.890899, 2.6727, 0.890899, -2.6727, 811, -40, 0, 0, 0, 0, 852, -68, 0, 0, 0, 0, 914, -74, 0, 0, 0, 0, 927, -69, 0, 0, 0, 0, 928, -69 )
}

[sub_resource type="Shader" id=10]
code = "shader_type canvas_item;
render_mode unshaded;

void fragment() {
	vec4 c = textureLod(SCREEN_TEXTURE, SCREEN_UV, 0.0).rgba;
	c.r = 1.0 - c.r;
	c.g = 1.0 - c.g;
	c.b = 1.0 - c.b;
	COLOR.rgba = c;
}"

[sub_resource type="ShaderMaterial" id=11]
shader = SubResource( 10 )

[node name="Game" type="Node"]

[node name="Navigation2D" type="Navigation2D" parent="."]

[node name="TileMap" type="TileMap" parent="Navigation2D"]
tile_set = SubResource( 21 )
cell_size = Vector2( 16, 16 )
show_collision = true
format = 1

[node name="Path2D" type="Path2D" parent="Navigation2D"]
position = Vector2( -156, 776 )
curve = SubResource( 1 )

[node name="PathFollow2D" type="PathFollow2D" parent="Navigation2D/Path2D"]
position = Vector2( 416, 72 )
rotation = -0.177779
rotate = false

[node name="Skeleton" parent="Navigation2D/Path2D/PathFollow2D" instance=ExtResource( 7 )]

[node name="Path2D2" type="Path2D" parent="Navigation2D"]
position = Vector2( 3, 1 )
curve = SubResource( 8 )

[node name="PathFollow2D" type="PathFollow2D" parent="Navigation2D/Path2D2"]
position = Vector2( 579, 86 )
rotation = 0.121029
rotate = false

[node name="Ghost" parent="Navigation2D/Path2D2/PathFollow2D" instance=ExtResource( 6 )]

[node name="Path2D3" type="Path2D" parent="Navigation2D"]
curve = SubResource( 9 )

[node name="PathFollow2D" type="PathFollow2D" parent="Navigation2D/Path2D3"]
position = Vector2( 928, -69 )
rotation = 0.947598
rotate = false

[node name="Enemy" parent="Navigation2D/Path2D3/PathFollow2D" instance=ExtResource( 2 )]
light_mask = 2
pat_speed = 120
run_speed = 50

[node name="Player" parent="." instance=ExtResource( 1 )]

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true

[node name="ColorRect" type="ColorRect" parent="Player"]
visible = false
material = SubResource( 11 )
margin_left = -319.0
margin_top = -239.0
margin_right = 321.0
margin_bottom = 241.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Item" parent="." instance=ExtResource( 3 )]
position = Vector2( 287, 890 )
scale = Vector2( 1, 1 )

[node name="Item2" parent="." instance=ExtResource( 3 )]
position = Vector2( 236, 62 )
scale = Vector2( 1, 1 )

[node name="Item3" parent="." instance=ExtResource( 3 )]
position = Vector2( 915, -55 )
scale = Vector2( 1, 1 )

[node name="Item4" parent="." instance=ExtResource( 3 )]
position = Vector2( 1484, 1197 )
scale = Vector2( 1, 1 )

[node name="Item5" parent="." instance=ExtResource( 3 )]
position = Vector2( 359, 629 )
scale = Vector2( 1, 1 )

[node name="Item6" parent="." instance=ExtResource( 3 )]
position = Vector2( 646, 703 )
scale = Vector2( 1, 1 )

[node name="Item7" parent="." instance=ExtResource( 3 )]
position = Vector2( 606, 1158 )
scale = Vector2( 1, 1 )

[node name="Item8" parent="." instance=ExtResource( 3 )]
position = Vector2( 1411, 770 )
scale = Vector2( 1, 1 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ItemCountLabel" type="Label" parent="CanvasLayer"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -119.0
margin_top = 8.0
margin_right = -39.0
margin_bottom = 22.0
text = "Item Count: "
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SafeZone" parent="." instance=ExtResource( 5 )]
position = Vector2( 233, 200 )

[node name="SafeZone4" parent="." instance=ExtResource( 5 )]
position = Vector2( 879, 1177 )

[node name="SafeZone2" parent="." instance=ExtResource( 5 )]
position = Vector2( 646, 580 )

[node name="SafeZone3" parent="." instance=ExtResource( 5 )]
position = Vector2( 487, 838 )
